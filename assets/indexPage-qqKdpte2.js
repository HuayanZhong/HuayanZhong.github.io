import{c as V,t as C,n as x,m as O,u as R,g as $,B as N,w as k,e as E,a as F,b as M,I as j,i as z}from"./index-CoLxLmKc.js";import{d as P,r as A,c as s,g as D,a as K,m as U,o as Y,b as Z,w as b,e as p,F as q,f as G,_ as H}from"./index-45IKlSZ7.js";import{u as J}from"./use-placeholder-Fv3Yvx8G.js";import{c as L}from"./interceptor-B_bbnckA.js";import{r as Q,u as W}from"./use-route-BAnOwtTZ.js";const[T,I]=V("tabbar"),X={route:Boolean,fixed:C,border:C,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:O(0),safeAreaInsetBottom:{type:Boolean,default:null}},S=Symbol(T);var ee=P({name:T,props:X,emits:["change","update:modelValue"],setup(e,{emit:i,slots:c}){const t=A(),{linkChildren:u}=R(S),a=J(t,I),d=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},n=()=>{var o;const{fixed:r,zIndex:l,border:f}=e;return s("div",{ref:t,role:"tablist",style:$(l),class:[I({fixed:r}),{[N]:f,"van-safe-area-bottom":d()}]},[(o=c.default)==null?void 0:o.call(c)])};return u({props:e,setActive:(o,r)=>{L(e.beforeChange,{args:[o],done(){i("update:modelValue",o),i("change",o),r()}})}}),()=>e.fixed&&e.placeholder?a(n):n()}});const te=k(ee),[ae,g]=V("tabbar-item"),ne=E({},Q,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var oe=P({name:ae,props:ne,emits:["click"],setup(e,{emit:i,slots:c}){const t=W(),u=D().proxy,{parent:a,index:d}=F(S);if(!a)return;const n=K(()=>{var r;const{route:l,modelValue:f}=a.props;if(l&&"$route"in u){const{$route:_}=u,{to:v}=e,m=z(v)?v:{path:v};return!!_.matched.find(B=>{const w="path"in m&&m.path===B.path,y="name"in m&&m.name===B.name;return w||y})}return((r=e.name)!=null?r:d.value)===f}),h=r=>{var l;n.value||a.setActive((l=e.name)!=null?l:d.value,t),i("click",r)},o=()=>{if(c.icon)return c.icon({active:n.value});if(e.icon)return s(j,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:l,badge:f}=e,{activeColor:_,inactiveColor:v}=a.props,m=n.value?_:v;return s("div",{role:"tab",class:g({active:n.value}),style:{color:m},tabindex:0,"aria-selected":n.value,onClick:h},[s(M,U({dot:l,class:g("icon"),content:f},e.badgeProps),{default:o}),s("div",{class:g("text")},[(r=c.default)==null?void 0:r.call(c,{active:n.value})])])}}});const re=k(oe),se=P({__name:"indexPage",setup(e){const i=A("home");return(c,t)=>{const u=G("RouterView"),a=re,d=te;return Y(),Z(q,null,[s(u),s(d,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=n=>i.value=n),"active-color":"#ee0a24","inactive-color":"#000"},{default:b(()=>[s(a,{name:"home",icon:"home-o",to:"/"},{default:b(()=>t[1]||(t[1]=[p("首页")])),_:1}),s(a,{name:"search",icon:"apps-o",to:"/sort"},{default:b(()=>t[2]||(t[2]=[p("分类")])),_:1}),s(a,{name:"friends",icon:"shopping-cart-o",to:"/cart"},{default:b(()=>t[3]||(t[3]=[p("购物车")])),_:1}),s(a,{name:"setting",icon:"friends-o",to:"/user"},{default:b(()=>t[4]||(t[4]=[p("我的")])),_:1})]),_:1},8,["modelValue"])],64)}}}),me=H(se,[["__scopeId","data-v-4e11362c"]]);export{me as default};
