import{i as O,n as R,c as V,u as $,t as C,a as x,m as N,g as E,B as F,w as k,e as M,b as j,d as z,I as D,f as K}from"./index-D5IVMRjW.js";import{d as h,r as A,c as l,g as U,a as Y,m as Z,b as q,w as b,F as G,e as H,o as J,f as p,_ as L}from"./index-CoNTkAIC.js";import{u as Q}from"./use-placeholder-CGb2ZCAm.js";import{r as W,u as X}from"./use-route-DTI4ojFM.js";function ee(e,{args:i=[],done:n,canceled:t,error:c}){if(e){const a=e.apply(null,i);O(a)?a.then(u=>{u?n():t&&t()}).catch(c||R):a?n():t&&t()}else n()}const[T,I]=V("tabbar"),te={route:Boolean,fixed:C,border:C,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:N(0),safeAreaInsetBottom:{type:Boolean,default:null}},y=Symbol(T);var ae=h({name:T,props:te,emits:["change","update:modelValue"],setup(e,{emit:i,slots:n}){const t=A(),{linkChildren:c}=$(y),a=Q(t,I),u=()=>{var r;return(r=e.safeAreaInsetBottom)!=null?r:e.fixed},o=()=>{var r;const{fixed:s,zIndex:d,border:f}=e;return l("div",{ref:t,role:"tablist",style:E(d),class:[I({fixed:s}),{[F]:f,"van-safe-area-bottom":u()}]},[(r=n.default)==null?void 0:r.call(n)])};return c({props:e,setActive:(r,s)=>{ee(e.beforeChange,{args:[r],done(){i("update:modelValue",r),i("change",r),s()}})}}),()=>e.fixed&&e.placeholder?a(o):o()}});const ne=k(ae),[oe,g]=V("tabbar-item"),re=M({},W,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var se=h({name:oe,props:re,emits:["click"],setup(e,{emit:i,slots:n}){const t=X(),c=U().proxy,{parent:a,index:u}=j(y);if(!a)return;const o=Y(()=>{var s;const{route:d,modelValue:f}=a.props;if(d&&"$route"in c){const{$route:_}=c,{to:v}=e,m=K(v)?v:{path:v};return!!_.matched.find(B=>{const S="path"in m&&m.path===B.path,w="name"in m&&m.name===B.name;return S||w})}return((s=e.name)!=null?s:u.value)===f}),P=s=>{var d;o.value||a.setActive((d=e.name)!=null?d:u.value,t),i("click",s)},r=()=>{if(n.icon)return n.icon({active:o.value});if(e.icon)return l(D,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var s;const{dot:d,badge:f}=e,{activeColor:_,inactiveColor:v}=a.props,m=o.value?_:v;return l("div",{role:"tab",class:g({active:o.value}),style:{color:m},tabindex:0,"aria-selected":o.value,onClick:P},[l(z,Z({dot:d,class:g("icon"),content:f},e.badgeProps),{default:r}),l("div",{class:g("text")},[(s=n.default)==null?void 0:s.call(n,{active:o.value})])])}}});const le=k(se),ie=h({__name:"indexPage",setup(e){const i=A("home");return(n,t)=>{const c=H("RouterView"),a=le,u=ne;return J(),q(G,null,[l(c),l(u,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),"active-color":"#ee0a24","inactive-color":"#000"},{default:b(()=>[l(a,{name:"home",icon:"home-o",to:"/"},{default:b(()=>t[1]||(t[1]=[p("首页")])),_:1}),l(a,{name:"search",icon:"apps-o",to:"/sort"},{default:b(()=>t[2]||(t[2]=[p("分类")])),_:1}),l(a,{name:"friends",icon:"shopping-cart-o",to:"/cart"},{default:b(()=>t[3]||(t[3]=[p("购物车")])),_:1}),l(a,{name:"setting",icon:"friends-o",to:"/user"},{default:b(()=>t[4]||(t[4]=[p("我的")])),_:1})]),_:1},8,["modelValue"])],64)}}}),fe=L(ie,[["__scopeId","data-v-20005dea"]]);export{fe as default};
